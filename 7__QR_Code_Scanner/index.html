<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Scanner - Decode QR Codes from Images | Tool Studio</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online QR code scanner and decoder. Upload any image containing a QR code to instantly extract URLs, text, contact info, WiFi credentials, and more. Fast, secure, and works offline.">
    <meta name="keywords" content="QR code scanner, QR decoder, scan QR code online, read QR code, QR code reader, barcode scanner, decode QR, extract QR data, QR to link, QR to text">
    <meta name="author" content="Tool Studio">
    <meta name="theme-color" content="#8b5cf6">
    <link rel="canonical" href="https://toolstudio.in/tools/7/qr-code-scanner">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolstudio.in/tools/7/qr-code-scanner">
    <meta property="og:title" content="QR Code Scanner - Decode QR Codes from Images | Tool Studio">
    <meta property="og:description" content="Free online QR code scanner and decoder. Upload any image containing a QR code to instantly extract URLs, text, and more. Fast, secure, and works offline.">
    <meta property="og:image" content="https://tool-studio.s3.ap-south-1.amazonaws.com/public/tool-images/QR+Codescanner.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://toolstudio.in/tools/7/qr-code-scanner">
    <meta property="twitter:title" content="QR Code Scanner - Decode QR Codes from Images | Tool Studio">
    <meta property="twitter:description" content="Free online QR code scanner and decoder. Upload any image containing a QR code to instantly extract URLs, text, and more.">
    <meta property="twitter:image" content="https://tool-studio.s3.ap-south-1.amazonaws.com/public/tool-images/QR+Codescanner.png">
    
    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "QR Code Scanner",
        "description": "Free online QR code scanner and decoder. Upload any image containing a QR code to instantly extract URLs, text, contact info, and more.",
        "url": "https://toolstudio.in/tools/7/qr-code-scanner",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": "QR code scanning, Barcode decoding, URL extraction, Text extraction, Contact info extraction, WiFi credentials extraction"
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #8b5cf6;
            --primary-hover: #7c3aed;
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --bg-color: #ffffff;
            --surface-color: #f9fafb;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .dark-theme {
            --bg-color: #1f2937;
            --surface-color: #111827;
            --text-primary: #f9fafb;
            --text-secondary: #9ca3af;
            --border-color: #374151;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background-color: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            padding: 0.875rem 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            gap: 1rem;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 0.625rem;
            min-width: 0;
        }

        h1 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .emoji {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .theme-toggle {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.375rem;
            font-size: 0.875rem;
            color: var(--text-primary);
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .theme-toggle:hover {
            background-color: var(--border-color);
        }

        /* Main Container */
        .container {
            flex: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
            width: 100%;
        }

        /* Mode Toggle */
        .mode-toggle {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            background-color: var(--surface-color);
            padding: 0.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
        }

        .mode-btn {
            flex: 1;
            padding: 0.75rem 1rem;
            border: none;
            background-color: transparent;
            color: var(--text-secondary);
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .mode-btn:hover {
            background-color: var(--border-color);
        }

        .mode-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Upload Area */
        .upload-section {
            background-color: var(--surface-color);
            border: 2px dashed var(--border-color);
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            margin-bottom: 1.5rem;
            transition: all 0.3s;
            cursor: pointer;
        }

        .upload-section:hover {
            border-color: var(--primary-color);
            background-color: var(--bg-color);
        }

        .upload-section.drag-over {
            border-color: var(--primary-color);
            background-color: rgba(139, 92, 246, 0.05);
        }

        /* Camera Section */
        .camera-section {
            display: none;
            background-color: var(--surface-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .camera-section.active {
            display: block;
        }

        .camera-container {
            position: relative;
            width: 100%;
            max-width: 640px;
            margin: 0 auto;
            background-color: #000;
            border-radius: 0.5rem;
            overflow: hidden;
        }

        #cameraVideo {
            width: 100%;
            height: auto;
            display: block;
        }

        .camera-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            border: 2px solid var(--primary-color);
            border-radius: 0.5rem;
            pointer-events: none;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.3);
        }

        .camera-controls {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .camera-status {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
        }

        .camera-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .upload-section h2 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .upload-section p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .file-input {
            display: none;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.625rem 1.25rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }

        .btn:disabled {
            background-color: var(--border-color);
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background-color: var(--surface-color);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--border-color);
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #059669;
        }

        /* Preview Section */
        .preview-section {
            display: none;
            background-color: var(--surface-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .preview-section.active {
            display: block;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .preview-header h3 {
            font-size: 1rem;
            color: var(--text-primary);
        }

        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            display: block;
            margin: 0 auto;
        }

        /* Results Section */
        .results-section {
            display: none;
            background-color: var(--surface-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .results-section.active {
            display: block;
        }

        .result-item {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            gap: 0.5rem;
        }

        .result-type {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 0.25rem 0.625rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .result-actions {
            display: flex;
            gap: 0.5rem;
        }

        .icon-btn {
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            padding: 0.375rem 0.625rem;
            cursor: pointer;
            font-size: 0.75rem;
            color: var(--text-primary);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .icon-btn:hover {
            background-color: var(--border-color);
        }

        .result-content {
            background-color: var(--surface-color);
            padding: 0.75rem;
            border-radius: 0.375rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            word-break: break-all;
            color: var(--text-primary);
            max-height: 200px;
            overflow-y: auto;
        }

        /* Loading Spinner */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Error/Success Messages */
        .message {
            padding: 0.875rem 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 0.875rem;
            display: none;
            align-items: center;
            gap: 0.5rem;
        }

        .message.active {
            display: flex;
        }

        .message.error {
            background-color: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--error-color);
            color: var(--error-color);
        }

        .message.success {
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success-color);
            color: var(--success-color);
        }

        /* Floating Action Buttons */
        .fab-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 999;
        }

        .fab {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
            transition: all 0.3s ease;
        }

        .fab:hover {
            transform: translateY(-4px) scale(1.1);
            box-shadow: 0 8px 24px rgba(139, 92, 246, 0.6);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--surface-color);
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
            position: relative;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 24px 24px 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-primary);
        }

        .modal-close {
            background: var(--border-color);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--error-color);
            color: white;
            transform: rotate(90deg);
        }

        .modal-content {
            padding: 24px;
        }

        .modal-section {
            margin-bottom: 24px;
        }

        .modal-section:last-child {
            margin-bottom: 0;
        }

        .modal-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .modal-section p {
            color: var(--text-primary);
            line-height: 1.6;
            margin-bottom: 12px;
            font-size: 0.875rem;
        }

        .modal-section ul {
            list-style: none;
            padding: 0;
        }

        .modal-section li {
            padding: 10px;
            background: var(--bg-color);
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 3px solid var(--primary-color);
            color: var(--text-primary);
            font-size: 0.875rem;
        }

        .modal-section li strong {
            color: var(--primary-color);
        }

        .faq-item {
            background: var(--bg-color);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 1px solid var(--border-color);
        }

        .faq-question {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: start;
            gap: 8px;
            font-size: 0.875rem;
        }

        .faq-answer {
            color: var(--text-secondary);
            line-height: 1.6;
            padding-left: 24px;
            font-size: 0.875rem;
        }

        .tool-link {
            display: block;
            background: var(--bg-color);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            text-decoration: none;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .tool-link:hover {
            background: var(--surface-color);
            border-color: var(--primary-color);
            transform: translateX(4px);
        }

        .tool-link-title {
            font-weight: 600;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-color);
        }

        .tool-link-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--surface-color);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Responsive */
        @media (max-width: 640px) {
            header {
                padding: 0.75rem 1rem;
            }

            h1 {
                font-size: 1.125rem;
            }

            .emoji {
                font-size: 1.25rem;
            }

            .theme-toggle {
                padding: 0.375rem 0.625rem;
                font-size: 0.8125rem;
                gap: 0.25rem;
            }

            .container {
                padding: 1rem;
            }

            .upload-section {
                padding: 1.5rem 1rem;
            }

            .upload-icon {
                font-size: 2.5rem;
            }

            .fab-container {
                bottom: 16px;
                right: 16px;
                gap: 10px;
            }

            .fab {
                width: 48px;
                height: 48px;
                font-size: 1.3rem;
            }

            .modal {
                margin: 0;
                border-radius: 16px 16px 0 0;
                max-height: 85vh;
            }

            .modal-header {
                padding: 20px 16px 12px;
            }

            .modal-title {
                font-size: 1.25rem;
            }

            .modal-content {
                padding: 16px;
            }

            .mode-toggle {
                flex-direction: row;
            }

            .mode-btn {
                font-size: 0.8125rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-left">
            <span class="emoji">üì∑</span>
            <h1>QR Code Scanner</h1>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
            <span id="theme-icon">üåô</span>
            <span id="theme-text">Dark</span>
        </button>
    </header>

    <!-- Main Container -->
    <main class="container">
        <!-- Messages -->
        <div id="errorMessage" class="message error">
            <span>‚ö†Ô∏è</span>
            <span id="errorText"></span>
        </div>
        <div id="successMessage" class="message success">
            <span>‚úì</span>
            <span id="successText"></span>
        </div>

        <!-- Mode Toggle -->
        <div class="mode-toggle">
            <button class="mode-btn active" id="uploadModeBtn" onclick="switchMode('upload')">
                üì§ Upload Image
            </button>
            <button class="mode-btn" id="cameraModeBtn" onclick="switchMode('camera')">
                üì∑ Use Camera
            </button>
        </div>

        <!-- Upload Section -->
        <div class="upload-section" id="uploadArea">
            <div class="upload-icon">üì§</div>
            <h2>Upload QR Code Image</h2>
            <p>Drag & drop an image here, or click to select</p>
            <input type="file" id="fileInput" class="file-input" accept="image/*" onchange="handleFileSelect(event)">
            <button class="btn" onclick="document.getElementById('fileInput').click()">
                Choose Image
            </button>
        </div>

        <!-- Camera Section -->
        <div class="camera-section" id="cameraSection">
            <div id="cameraStartScreen" class="camera-status">
                <div class="camera-icon">üì∑</div>
                <h3>Ready to scan QR code</h3>
                <p style="margin-bottom: 1rem;">Click start to enable your camera</p>
                <button class="btn" onclick="startCamera()">
                    üé• Start Camera
                </button>
            </div>
            <div id="cameraActiveScreen" style="display: none;">
                <div class="camera-container">
                    <video id="cameraVideo" autoplay playsinline></video>
                    <div class="camera-overlay"></div>
                </div>
                <div class="camera-controls">
                    <button class="btn" onclick="capturePhoto()">
                        üì∏ Capture & Scan
                    </button>
                    <button class="btn-secondary btn" onclick="switchCameraFacing()" id="switchCameraBtn" style="display: none;">
                        üîÑ Flip Camera
                    </button>
                    <button class="btn-secondary btn" onclick="stopCamera()">
                        ‚èπÔ∏è Stop Camera
                    </button>
                </div>
            </div>
        </div>

        <!-- Preview Section -->
        <div class="preview-section" id="previewSection">
            <div class="preview-header">
                <h3>üì∑ Image Preview</h3>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn" onclick="scanQRCode()" id="scanBtn">
                        üîç Scan QR Code
                    </button>
                    <button class="btn-secondary btn" onclick="resetUpload()">
                        üîÑ Upload New
                    </button>
                </div>
            </div>
            <img id="imagePreview" class="image-preview" alt="Uploaded image preview">
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Scanning QR code...</p>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
            <div class="preview-header">
                <h3>‚ú® Scan Results</h3>
                <button class="btn-secondary btn" onclick="resetUpload()">
                    üì§ Scan Another
                </button>
            </div>
            <div id="resultsContainer"></div>
        </div>
    </main>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <button class="fab" onclick="openModal('about-modal')" title="About this tool" aria-label="About this tool">
            ‚ÑπÔ∏è
        </button>
        <button class="fab" onclick="openModal('similar-tools-modal')" title="Similar tools" aria-label="Similar tools">
            üîß
        </button>
    </div>

    <!-- About Tool Modal -->
    <div class="modal-overlay" id="about-modal" onclick="closeModal('about-modal')">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span>üì∑</span>
                    <span>About QR Code Scanner</span>
                </h2>
                <button class="modal-close" onclick="closeModal('about-modal')" aria-label="Close">‚úï</button>
            </div>
            <div class="modal-content">
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span>üí°</span>
                        <span>What Does This Tool Do?</span>
                    </h3>
                    <p>
                        QR Code Scanner is a free online tool that allows you to decode QR codes and barcodes from images or directly from your camera. Simply upload an image or use your device camera containing a QR code, and we'll extract the embedded data - whether it's a URL, text, contact information, WiFi credentials, or any other encoded data.
                    </p>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span>üöÄ</span>
                        <span>Key Features</span>
                    </h3>
                    <ul>
                        <li><strong>Upload Image:</strong> Drag & drop or select QR code images from your device</li>
                        <li><strong>Use Camera:</strong> Scan QR codes directly using your device camera</li>
                        <li><strong>Multiple Formats:</strong> Supports QR codes, barcodes, Data Matrix, and more</li>
                        <li><strong>Multiple Codes:</strong> Detect and decode multiple codes in one image</li>
                        <li><strong>One-Click Copy:</strong> Copy decoded data to clipboard instantly</li>
                        <li><strong>Direct Link Opening:</strong> Open URLs from QR codes in new tabs</li>
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span>üìù</span>
                        <span>How to Use</span>
                    </h3>
                    <ul>
                        <li><strong>Step 1:</strong> Choose "Upload Image" or "Use Camera" mode</li>
                        <li><strong>Step 2 (Upload):</strong> Drag & drop or select an image file</li>
                        <li><strong>Step 2 (Camera):</strong> Allow camera access and capture QR code</li>
                        <li><strong>Step 3:</strong> The tool automatically scans and extracts data</li>
                        <li><strong>Step 4:</strong> Copy the data or open links directly</li>
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span>üîí</span>
                        <span>Privacy & Security</span>
                    </h3>
                    <p>
                        Your privacy is important. Images are processed on our servers but are not stored permanently. The scanned data is only visible to you and is not logged or saved. Camera access is only used for scanning and no data is transmitted without your action.
                    </p>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span>‚ùì</span>
                        <span>FAQs</span>
                    </h3>
                    <div class="faq-item">
                        <div class="faq-question">
                            <strong>Q:</strong> What image formats are supported?
                        </div>
                        <div class="faq-answer">
                            We support all common image formats including JPG, PNG, GIF, BMP, and WebP.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <strong>Q:</strong> What if my QR code isn't being detected?
                        </div>
                        <div class="faq-answer">
                            Ensure the image is clear, well-lit, and the QR code is not damaged or obscured. Try taking a new photo with better lighting or hold the camera steadier.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <strong>Q:</strong> Can I scan multiple QR codes at once?
                        </div>
                        <div class="faq-answer">
                            Yes! If your image contains multiple QR codes or barcodes, we'll detect and decode all of them.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <strong>Q:</strong> Is there a file size limit?
                        </div>
                        <div class="faq-answer">
                            For best performance, we recommend images under 10MB.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Similar Tools Modal -->
    <div class="modal-overlay" id="similar-tools-modal" onclick="closeModal('similar-tools-modal')">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span>üîó</span>
                    <span>Similar Tools</span>
                </h2>
                <button class="modal-close" onclick="closeModal('similar-tools-modal')" aria-label="Close">‚úï</button>
            </div>
            <div class="modal-content">
                <div class="modal-section">
                    <p>Explore other useful tools from Tool Studio:</p>
                    <div id="similar-tools-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Theme Management
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            body.classList.toggle('dark-theme');
            const isDark = body.classList.contains('dark-theme');
            
            themeIcon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            themeText.textContent = isDark ? 'Light' : 'Dark';
            
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Similar Tools Configuration
        const similarTools = [
            {
                icon: 'üìù',
                title: 'JSON Formatter',
                description: 'Format and validate JSON data with custom indentation',
                url: 'https://toolstudio.in/tools/5/json-formatter'
            },
            {
                icon: 'üìÑ',
                title: 'PDF Page Remover',
                description: 'Remove specific pages from PDF files quickly and easily',
                url: 'https://toolstudio.in/tools/3/pdf-page-remover'
            },
            {
                icon: '‚úÇÔ∏è',
                title: 'PDF Splitter',
                description: 'Split PDF into multiple documents with custom page ranges',
                url: 'https://toolstudio.in/tools/6/pdf-splitter'
            },
            {
                icon: 'üìñ',
                title: 'README Viewer',
                description: 'Beautiful README.md viewer with live markdown rendering',
                url: 'https://toolstudio.in/tools/1/readme-viewer'
            }
        ];

        // Render similar tools on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                toggleTheme();
            }
            
            // Render similar tools
            renderSimilarTools();
        });

        function renderSimilarTools() {
            const toolsList = document.getElementById('similar-tools-list');
            if (toolsList) {
                toolsList.innerHTML = similarTools.map(tool => `
                    <a href="${tool.url}" class="tool-link" target="_blank" rel="noopener noreferrer">
                        <div class="tool-link-title">
                            <span>${tool.icon}</span>
                            <span>${tool.title}</span>
                        </div>
                        <div class="tool-link-desc">${tool.description}</div>
                    </a>
                `).join('');
            }
        }

        // Modal Functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = '';
        }

        // Mode Management
        let currentMode = 'upload'; // 'upload' or 'camera'
        let cameraStream = null;
        let facingMode = 'environment'; // 'user' (front) or 'environment' (back)

        function switchMode(mode) {
            currentMode = mode;
            
            // Update mode buttons
            document.getElementById('uploadModeBtn').classList.toggle('active', mode === 'upload');
            document.getElementById('cameraModeBtn').classList.toggle('active', mode === 'camera');
            
            // Show/hide sections
            if (mode === 'upload') {
                document.getElementById('uploadArea').style.display = 'block';
                document.getElementById('cameraSection').classList.remove('active');
                stopCamera();
                resetUpload();
            } else {
                document.getElementById('uploadArea').style.display = 'none';
                document.getElementById('cameraSection').classList.add('active');
                document.getElementById('previewSection').classList.remove('active');
                document.getElementById('resultsSection').classList.remove('active');
            }
            
            hideMessages();
        }

        // File Upload Handling
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        let uploadedFile = null;

        // Drag & Drop
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('drag-over');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });

        // File Select
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                handleFile(file);
            }
        }

        function handleFile(file) {
            // Validate file type
            if (!file.type.startsWith('image/')) {
                showError('Please upload a valid image file');
                return;
            }

            // Validate file size (10MB max)
            if (file.size > 10 * 1024 * 1024) {
                showError('Image size must be less than 10MB');
                return;
            }

            uploadedFile = file;

            // Show preview
            const reader = new FileReader();
            reader.onload = (e) => {
                document.getElementById('imagePreview').src = e.target.result;
                document.getElementById('uploadArea').style.display = 'none';
                document.getElementById('previewSection').classList.add('active');
                hideMessages();
            };
            reader.readAsDataURL(file);
        }

        function resetUpload() {
            uploadedFile = null;
            fileInput.value = '';
            if (currentMode === 'upload') {
                document.getElementById('uploadArea').style.display = 'block';
            }
            document.getElementById('previewSection').classList.remove('active');
            document.getElementById('resultsSection').classList.remove('active');
            document.getElementById('loading').classList.remove('active');
            hideMessages();
        }

        // Camera Functions
        async function startCamera() {
            try {
                hideMessages();
                
                const constraints = {
                    video: {
                        facingMode: facingMode,
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    },
                    audio: false
                };

                cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
                
                const videoElement = document.getElementById('cameraVideo');
                videoElement.srcObject = cameraStream;
                
                document.getElementById('cameraStartScreen').style.display = 'none';
                document.getElementById('cameraActiveScreen').style.display = 'block';
                
                // Show flip camera button if multiple cameras available
                const devices = await navigator.mediaDevices.enumerateDevices();
                const videoDevices = devices.filter(device => device.kind === 'videoinput');
                if (videoDevices.length > 1) {
                    document.getElementById('switchCameraBtn').style.display = 'inline-flex';
                }
                
                showSuccess('Camera started successfully!');
            } catch (error) {
                console.error('Error starting camera:', error);
                if (error.name === 'NotAllowedError') {
                    showError('Camera access denied. Please allow camera permission.');
                } else if (error.name === 'NotFoundError') {
                    showError('No camera found on your device.');
                } else {
                    showError('Failed to start camera: ' + error.message);
                }
            }
        }

        function stopCamera() {
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
                cameraStream = null;
                
                const videoElement = document.getElementById('cameraVideo');
                videoElement.srcObject = null;
                
                document.getElementById('cameraStartScreen').style.display = 'block';
                document.getElementById('cameraActiveScreen').style.display = 'none';
            }
        }

        async function switchCameraFacing() {
            facingMode = facingMode === 'user' ? 'environment' : 'user';
            stopCamera();
            await startCamera();
        }

        async function capturePhoto() {
            if (!cameraStream) {
                showError('Camera is not active');
                return;
            }

            try {
                hideMessages();
                
                const videoElement = document.getElementById('cameraVideo');
                const canvas = document.createElement('canvas');
                canvas.width = videoElement.videoWidth;
                canvas.height = videoElement.videoHeight;
                
                const context = canvas.getContext('2d');
                context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
                
                // Convert canvas to blob
                canvas.toBlob(async (blob) => {
                    uploadedFile = new File([blob], 'camera-capture.jpg', { type: 'image/jpeg' });
                    
                    // Show preview
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        document.getElementById('imagePreview').src = e.target.result;
                        document.getElementById('cameraSection').classList.remove('active');
                        document.getElementById('previewSection').classList.add('active');
                    };
                    reader.readAsDataURL(blob);
                    
                    // Stop camera after capture
                    stopCamera();
                    
                    // Auto-scan the captured photo
                    setTimeout(() => {
                        scanQRCode();
                    }, 500);
                }, 'image/jpeg', 0.95);
                
            } catch (error) {
                console.error('Error capturing photo:', error);
                showError('Failed to capture photo: ' + error.message);
            }
        }

        // QR Code Scanning
        async function scanQRCode() {
            if (!uploadedFile) {
                showError('No file selected');
                return;
            }

            // Get tool ID from URL
            const pathParts = window.location.pathname.split('/');
            const toolId = pathParts[pathParts.indexOf('tools') + 1];

            // Show loading
            document.getElementById('previewSection').classList.remove('active');
            document.getElementById('loading').classList.add('active');
            hideMessages();

            const formData = new FormData();
            formData.append('file', uploadedFile);

            try {
                const apiBaseUrl = 'https://toolstudio.in';
                const response = await fetch(`${apiBaseUrl}/api/v1/tools/${toolId}/execute`, {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const contentType = response.headers.get('content-type');
                
                if (contentType && contentType.includes('application/json')) {
                    const data = await response.json();
                    
                    if (data.error) {
                        throw new Error(data.error);
                    }
                    
                    displayResults(data);
                } else {
                    throw new Error('Unexpected response format');
                }

            } catch (error) {
                console.error('Error scanning QR code:', error);
                showError(error.message || 'Failed to scan QR code. Please try again.');
                document.getElementById('previewSection').classList.add('active');
            } finally {
                document.getElementById('loading').classList.remove('active');
            }
        }

        function displayResults(data) {
            const resultsContainer = document.getElementById('resultsContainer');
            
            if (!data.codes || data.codes.length === 0) {
                showError('No QR codes or barcodes found in the image');
                document.getElementById('previewSection').classList.add('active');
                return;
            }

            resultsContainer.innerHTML = data.codes.map((code, index) => {
                const isURL = code.data.match(/^https?:\/\//i);
                return `
                    <div class="result-item">
                        <div class="result-header">
                            <span class="result-type">${code.type}</span>
                            <div class="result-actions">
                                <button class="icon-btn" onclick="copyToClipboard('${escapeHtml(code.data)}', ${index})" title="Copy to clipboard">
                                    üìã Copy
                                </button>
                                ${isURL ? `
                                    <button class="icon-btn" onclick="openLink('${escapeHtml(code.data)}')" title="Open link">
                                        üîó Open
                                    </button>
                                ` : ''}
                            </div>
                        </div>
                        <div class="result-content">${escapeHtml(code.data)}</div>
                    </div>
                `;
            }).join('');

            document.getElementById('resultsSection').classList.add('active');
            showSuccess(`Found ${data.codes.length} code(s) in the image`);
        }

        function copyToClipboard(text, index) {
            navigator.clipboard.writeText(text).then(() => {
                showSuccess('Copied to clipboard!');
            }).catch(err => {
                showError('Failed to copy to clipboard');
                console.error('Copy error:', err);
            });
        }

        function openLink(url) {
            window.open(url, '_blank', 'noopener,noreferrer');
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Message Functions
        function showError(message) {
            hideMessages();
            document.getElementById('errorText').textContent = message;
            document.getElementById('errorMessage').classList.add('active');
            setTimeout(hideMessages, 5000);
        }

        function showSuccess(message) {
            hideMessages();
            document.getElementById('successText').textContent = message;
            document.getElementById('successMessage').classList.add('active');
            setTimeout(hideMessages, 3000);
        }

        function hideMessages() {
            document.getElementById('errorMessage').classList.remove('active');
            document.getElementById('successMessage').classList.remove('active');
        }
    </script>
</body>
</html>

