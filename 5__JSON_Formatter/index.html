<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <meta name="description" content="Format, validate, and beautify JSON data instantly. Minify JSON, fix formatting errors, and validate JSON syntax online for free.">
    <meta name="keywords" content="json formatter, json validator, json beautifier, json minifier, format json, validate json, json tool, json editor, tool studio">
    <meta name="author" content="Tool Studio">
    <meta name="theme-color" content="#6366f1">
    
    <title>JSON Formatter - Validate & Beautify JSON Online | Tool Studio</title>
    
    <!-- Google Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://toolstudio.in/tools/5/json-formatter">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolstudio.in/tools/5/json-formatter">
    <meta property="og:title" content="JSON Formatter - Validate & Beautify JSON Online | Tool Studio">
    <meta property="og:description" content="Format, validate, and beautify JSON data instantly. Minify JSON, fix formatting errors, and validate JSON syntax online for free.">
    <meta property="og:image" content="https://tool-studio.s3.ap-south-1.amazonaws.com/public/tool-images/JSON+Formatter.png">
    <meta property="og:site_name" content="Tool Studio">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://toolstudio.in/tools/5/json-formatter">
    <meta property="twitter:title" content="JSON Formatter - Validate & Beautify JSON Online | Tool Studio">
    <meta property="twitter:description" content="Format, validate, and beautify JSON data instantly. Minify JSON, fix formatting errors, and validate JSON syntax online for free.">
    <meta property="twitter:image" content="https://tool-studio.s3.ap-south-1.amazonaws.com/public/tool-images/JSON+Formatter.png">
    
    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "JSON Formatter",
      "description": "Format, validate, and beautify JSON data instantly",
      "url": "https://toolstudio.in/tools/5/json-formatter",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "name": "Tool Studio"
      }
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
        }
        
        /* Dark Theme (Default) */
        :root {
            --bg-main: #0f172a;
            --bg-card: #1e293b;
            --bg-input: #0f172a;
            --bg-hover: #334155;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --border: #334155;
            --shadow: rgba(0, 0, 0, 0.3);
            --code-bg: #1a1b26;
        }
        
        /* Light Theme */
        [data-theme="light"] {
            --bg-main: #f8fafc;
            --bg-card: #ffffff;
            --bg-input: #ffffff;
            --bg-hover: #e2e8f0;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            --code-bg: #f8fafc;
        }
        
        /* Material Symbols */
        .material-symbols-outlined {
            font-family: 'Material Symbols Outlined';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            font-feature-settings: 'liga';
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-main);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 16px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            box-shadow: 0 2px 8px var(--shadow);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h1 {
            font-size: 1.1rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        h1 .emoji {
            font-size: 1.1rem;
        }
        
        h1 .title-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .theme-toggle {
            background: var(--bg-input);
            border: 2px solid var(--border);
            border-radius: 50px;
            padding: 4px 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: var(--text);
        }
        
        .theme-toggle .material-symbols-outlined {
            font-size: 18px;
        }
        
        .theme-toggle:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }
        
        .layout {
            display: grid;
            grid-template-columns: 45% 55%;
            gap: 0;
            flex: 1;
            overflow: hidden;
        }
        
        @media (max-width: 968px) {
            .layout {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1rem;
            }
            
            header {
                padding: 8px 12px;
            }
        }
        
        .panel {
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            padding: 10px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .panel:last-child {
            border-right: none;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            gap: 8px;
            row-gap: 6px;
        }
        
        .panel-title {
            font-size: 0.95rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .panel-title .material-symbols-outlined {
            font-size: 20px;
        }
        
        .btn-group {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 5px 10px;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        button .material-symbols-outlined {
            font-size: 18px;
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
        }
        
        .btn-secondary {
            background: var(--bg-input);
            color: var(--text);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover:not(:disabled) {
            background: var(--bg-hover);
            border-color: var(--primary);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover:not(:disabled) {
            background: #059669;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-danger:hover:not(:disabled) {
            background: #dc2626;
        }
        
        textarea {
            flex: 1;
            width: 100%;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 12px;
            color: var(--text);
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            resize: none;
            transition: all 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        textarea::placeholder {
            color: var(--text-muted);
        }
        
        textarea.error {
            border-color: var(--danger);
        }
        
        #output {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
            background: var(--bg-input);
            border-radius: 6px;
            border: 1px solid var(--border);
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        /* Collapsible JSON Viewer Styles */
        .json-viewer {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .json-line-container {
            display: flex;
            align-items: flex-start;
        }
        
        .line-number {
            min-width: 50px;
            text-align: right;
            padding-right: 12px;
            color: var(--text-muted);
            user-select: none;
            opacity: 0.5;
        }
        
        .json-line {
            flex: 1;
            white-space: pre;
        }
        
        .toggle {
            cursor: pointer;
            margin-right: 6px;
            color: var(--text-muted);
            user-select: none;
            display: inline-block;
            width: 16px;
            font-weight: bold;
        }
        
        .toggle:hover {
            color: var(--primary);
        }
        
        /* JSON Syntax Highlighting */
        .json-key { 
            color: #38bdf8;
            font-weight: 500;
        }
        
        .json-string { 
            color: #22c55e; 
        }
        
        .json-number { 
            color: #facc15; 
        }
        
        .json-boolean { 
            color: #f472b6;
            font-weight: 600;
        }
        
        .json-null { 
            color: #f87171;
            font-style: italic;
        }
        
        .json-bracket {
            color: var(--text);
            font-weight: bold;
        }
        
        .json-comma {
            color: var(--text-muted);
        }
        
        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--danger);
            border-radius: 6px;
            padding: 8px 12px;
            color: var(--danger);
            margin-top: 8px;
            display: none;
            font-size: 0.85rem;
        }
        
        .error-message.active {
            display: block;
        }
        
        .stats {
            display: flex;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            background: var(--bg-input);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            border: 1px solid var(--border);
        }
        
        .stat-label {
            color: var(--text-muted);
            margin-right: 4px;
        }
        
        .stat-value {
            color: var(--primary);
            font-weight: 600;
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            display: none;
            animation: slideIn 0.3s ease;
            z-index: 1000;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .indent-control {
            display: flex;
            align-items: center;
            gap: 6px;
            background: var(--bg-input);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid var(--border);
        }
        
        .indent-control label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }
        
        .indent-control input {
            width: 50px;
            padding: 2px 6px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text);
            font-size: 0.85rem;
        }
        
        /* Floating Action Buttons */
        .fab-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 999;
        }
        
        .fab {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
            transition: all 0.3s ease;
        }
        
        .fab .material-symbols-outlined {
            font-size: 22px;
        }
        
        .fab:hover {
            transform: translateY(-4px) scale(1.1);
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.6);
        }
        
        .fab-tooltip {
            position: absolute;
            right: 70px;
            background: var(--bg-card);
            color: var(--text);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border);
        }
        
        .fab:hover .fab-tooltip {
            opacity: 1;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal {
            background: var(--bg-card);
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
            position: relative;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .modal-header {
            padding: 24px 24px 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text);
        }
        
        .modal-close {
            background: var(--bg-hover);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text);
            transition: all 0.3s ease;
        }
        
        .modal-close:hover {
            background: var(--danger);
            color: white;
            transform: rotate(90deg);
        }
        
        .modal-content {
            padding: 24px;
        }
        
        .modal-section {
            margin-bottom: 24px;
        }
        
        .modal-section:last-child {
            margin-bottom: 0;
        }
        
        .modal-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .modal-section p {
            color: var(--text);
            line-height: 1.6;
            margin-bottom: 12px;
        }
        
        .modal-section ul {
            list-style: none;
            padding: 0;
        }
        
        .modal-section li {
            padding: 10px;
            background: var(--bg-input);
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 3px solid var(--primary);
            color: var(--text);
        }
        
        .modal-section li strong {
            color: var(--primary);
        }
        
        .faq-item {
            background: var(--bg-input);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 1px solid var(--border);
        }
        
        .faq-question {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
            display: flex;
            align-items: start;
            gap: 8px;
        }
        
        .faq-answer {
            color: var(--text-muted);
            line-height: 1.6;
            padding-left: 24px;
        }
        
        .tool-link {
            display: block;
            background: var(--bg-input);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            text-decoration: none;
            color: var(--text);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .tool-link:hover {
            background: var(--bg-hover);
            border-color: var(--primary);
            transform: translateX(4px);
        }
        
        .tool-link-title {
            font-weight: 600;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
        }
        
        .tool-link-desc {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-input);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
            }
            
            .container {
                height: auto;
                min-height: 100vh;
            }
            
            .layout {
                overflow-y: visible;
                max-height: none;
            }
            
            .panel {
                overflow-y: auto;
                min-height: 450px;
                max-height: none;
            }
            
            textarea {
                min-height: 400px;
                max-height: 600px;
                overflow-y: auto;
                resize: vertical;
                -webkit-overflow-scrolling: touch;
            }
            
            #output {
                min-height: 400px;
                max-height: 600px;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .panel-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .btn-group {
                width: 100%;
            }
            
            .btn-group button {
                flex: 1;
                justify-content: center;
            }
            
            .fab-container {
                bottom: 16px;
                right: 16px;
            }
            
            .fab {
                width: 48px;
                height: 48px;
                font-size: 1.3rem;
            }
            
            .fab-tooltip {
                display: none;
            }
            
            .modal {
                margin: 0;
                border-radius: 16px 16px 0 0;
                max-height: 85vh;
            }
            
            .modal-header {
                padding: 20px 16px 12px;
            }
            
            .modal-title {
                font-size: 1.3rem;
            }
            
            .modal-content {
                padding: 16px;
            }
        }
        
        /* Extra small devices */
        @media (max-width: 480px) {
            .panel {
                min-height: 400px;
                padding: 10px;
            }
            
            textarea {
                min-height: 350px;
                max-height: 500px;
                font-size: 0.85rem;
                padding: 10px;
            }
            
            #output {
                min-height: 350px;
                max-height: 500px;
                font-size: 0.85rem;
                padding: 10px;
            }
            
            .stats {
                flex-direction: column;
                gap: 8px;
            }
            
            .stat-item {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-left">
                <h1>
                    <span class="emoji">{ }</span>
                    <span class="title-text">JSON Formatter</span>
                </h1>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">
                <span class="material-symbols-outlined" id="theme-icon">dark_mode</span>
                <span id="theme-text">Dark</span>
            </button>
        </header>
        
        <div class="layout">
            <!-- Input Panel -->
            <div class="panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <span class="material-symbols-outlined">description</span>
                        <span>JSON Input</span>
                    </div>
                    <div class="btn-group">
                        <button class="btn-secondary" onclick="clearInput()">
                            <span class="material-symbols-outlined">delete</span>
                            <span>Clear</span>
                        </button>
                        <button class="btn-secondary" onclick="loadExample()">
                            <span class="material-symbols-outlined">content_copy</span>
                            <span>Example</span>
                        </button>
                        <button class="btn-primary" onclick="formatJSON()">
                            <span class="material-symbols-outlined">auto_awesome</span>
                            <span>Format</span>
                        </button>
                        <button class="btn-success" onclick="minifyJSON()">
                            <span class="material-symbols-outlined">bolt</span>
                            <span>Minify</span>
                        </button>
                    </div>
                </div>
                <textarea id="json-input" placeholder='Paste your JSON here...

Example:
{
  "name": "Tool Studio",
  "tools": ["JSON Formatter", "PDF Editor"],
  "active": true
}'></textarea>
                <div class="error-message" id="input-error"></div>
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-label">Characters:</span>
                        <span class="stat-value" id="char-count">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Lines:</span>
                        <span class="stat-value" id="line-count">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Size:</span>
                        <span class="stat-value" id="output-size">0 bytes</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Valid:</span>
                        <span class="stat-value" id="validity">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Output Panel -->
            <div class="panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <span class="material-symbols-outlined">auto_awesome</span>
                        <span>Formatted JSON</span>
                    </div>
                    <div class="indent-control">
                        <label for="indent-size">Indent:</label>
                        <input type="number" id="indent-size" min="1" max="8" value="2">
                    </div>
                    <div class="btn-group">
                        <button class="btn-secondary" onclick="expandAll()" id="expand-btn" style="display: none;">
                            <span class="material-symbols-outlined">unfold_more</span>
                            <span>Expand All</span>
                        </button>
                        <button class="btn-secondary" onclick="copyOutput()">
                            <span class="material-symbols-outlined">content_copy</span>
                            <span>Copy</span>
                        </button>
                        <button class="btn-secondary" onclick="downloadJSON()">
                            <span class="material-symbols-outlined">download</span>
                            <span>Download</span>
                        </button>
                    </div>
                </div>
                <div id="output"></div>
            </div>
        </div>
    </div>
    
    <div class="toast" id="toast">✓ Copied to clipboard!</div>
    
    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <button class="fab" onclick="openAboutModal()" aria-label="About this tool">
            <span class="material-symbols-outlined">info</span>
            <span class="fab-tooltip">About This Tool</span>
        </button>
        <button class="fab" onclick="openSimilarToolsModal()" aria-label="Similar tools">
            <span class="material-symbols-outlined">apps</span>
            <span class="fab-tooltip">Similar Tools</span>
        </button>
    </div>
    
    <!-- About Modal -->
    <div class="modal-overlay" id="about-modal" onclick="closeModal('about-modal')">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span>{ }</span>
                    <span>About JSON Formatter</span>
                </h2>
                <button class="modal-close" onclick="closeModal('about-modal')" aria-label="Close"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="modal-content">
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span class="material-symbols-outlined">lightbulb</span>
                        <span>What Does This Tool Do?</span>
                    </h3>
                    <p>
                        JSON Formatter is an advanced tool for developers to format, validate, and beautify JSON data with an interactive collapsible tree view. Make minified JSON readable with proper indentation, validate syntax, compress formatted JSON, and navigate through complex JSON structures with ease. Perfect for debugging, API development, and working with JSON configuration files.
                    </p>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span class="material-symbols-outlined">rocket_launch</span>
                        <span>Key Features</span>
                    </h3>
                    <ul>
                        <li><strong>Interactive Tree View:</strong> Collapse and expand JSON nodes for easy navigation</li>
                        <li><strong>Syntax Highlighting:</strong> Color-coded keys, values, and types for better readability</li>
                        <li><strong>Line Numbers:</strong> Track exactly where you are in the JSON structure</li>
                        <li><strong>Format & Beautify:</strong> Make minified JSON readable with proper indentation</li>
                        <li><strong>Minify JSON:</strong> Compress formatted JSON by removing whitespace</li>
                        <li><strong>Validate Syntax:</strong> Instantly check if your JSON is valid</li>
                        <li><strong>Custom Indentation:</strong> Choose indent size from 1-8 spaces</li>
                        <li><strong>Expand All:</strong> Quick control to open all nodes at once</li>
                        <li><strong>Copy & Download:</strong> Easy export options for your formatted JSON</li>
                        <li><strong>Real-time Stats:</strong> Track character count, line count, file size, and validity</li>
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span class="material-symbols-outlined">checklist</span>
                        <span>How to Use</span>
                    </h3>
                    <ul>
                        <li><strong>Step 1:</strong> Paste your JSON data into the input panel on the left</li>
                        <li><strong>Step 2:</strong> Choose your preferred indent size (default is 2 spaces)</li>
                        <li><strong>Step 3:</strong> Click "Format" to beautify or "Minify" to compress</li>
                        <li><strong>Step 4:</strong> View the formatted result in the interactive tree view on the right</li>
                        <li><strong>Step 5:</strong> Click the ▶ and ▼ arrows to collapse/expand JSON nodes</li>
                        <li><strong>Step 6:</strong> Use "Expand All" to open all collapsed nodes at once</li>
                        <li><strong>Step 7:</strong> Use "Copy" to copy to clipboard or "Download" to save as file</li>
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">
                        <span class="material-symbols-outlined">help</span>
                        <span>Frequently Asked Questions</span>
                    </h3>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Q:</span>
                            <span>What if my JSON has syntax errors?</span>
                        </div>
                        <div class="faq-answer">
                            The tool will highlight the error and show you exactly what's wrong, making it easy to fix syntax issues.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Q:</span>
                            <span>Can I format large JSON files?</span>
                        </div>
                        <div class="faq-answer">
                            Yes! The tool can handle large JSON files efficiently. However, for extremely large files (>10MB), performance may vary.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Q:</span>
                            <span>Is my JSON data secure?</span>
                        </div>
                        <div class="faq-answer">
                            Absolutely! All formatting is done locally in your browser. No data is sent to any server or stored anywhere.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Q:</span>
                            <span>What's the difference between format and minify?</span>
                        </div>
                        <div class="faq-answer">
                            Format makes JSON readable with proper indentation and line breaks. Minify removes all whitespace to create the smallest possible file size.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Similar Tools Modal -->
    <div class="modal-overlay" id="similar-tools-modal" onclick="closeModal('similar-tools-modal')">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span class="material-symbols-outlined">apps</span>
                    <span>Similar Tools</span>
                </h2>
                <button class="modal-close" onclick="closeModal('similar-tools-modal')" aria-label="Close"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="modal-content">
                <div class="modal-section">
                    <p>Explore other useful tools from Tool Studio:</p>
                    <div id="similar-tools-list"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
    (function() {
        'use strict';
        
        // ========================================
        // SIMILAR TOOLS CONFIGURATION (Easy to Edit)
        // ========================================
        const similarTools = [
            {
                icon: 'book',
                title: 'README Viewer',
                description: 'Beautiful README.md viewer with live markdown rendering',
                url: 'https://toolstudio.in/tools/1/readme-viewer'
            },
            {
                icon: 'description',
                title: 'PDF Page Remover',
                description: 'Remove specific pages from PDF files quickly and easily',
                url: 'https://toolstudio.in/tools/3/pdf-page-remover'
            },
            {
                icon: 'photo_camera',
                title: 'Camera Test',
                description: 'Test your camera, capture photos, and download images instantly',
                url: 'https://toolstudio.in/tools/2/camera-test'
            },
            {
                icon: 'mic',
                title: 'Audio Test',
                description: 'Test your microphone with real-time visualization and recording',
                url: 'https://toolstudio.in/tools/4/audio-test'
            }
        ];
        
        // ========================================
        // MODAL FUNCTIONS
        // ========================================
        window.openAboutModal = function() {
            document.getElementById('about-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        };
        
        window.openSimilarToolsModal = function() {
            document.getElementById('similar-tools-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
            renderSimilarTools();
        };
        
        window.closeModal = function(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
        };
        
        // Close modal on ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal('about-modal');
                closeModal('similar-tools-modal');
            }
        });
        
        // Render similar tools
        function renderSimilarTools() {
            const container = document.getElementById('similar-tools-list');
            container.innerHTML = similarTools.map(tool => `
                <a href="${tool.url}" class="tool-link" target="_blank" rel="noopener noreferrer">
                    <div class="tool-link-title">
                        <span class="material-symbols-outlined">${tool.icon}</span>
                        <span>${tool.title}</span>
                    </div>
                    <div class="tool-link-desc">${tool.description}</div>
                </a>
            `).join('');
        }
        
        // ========================================
        // THEME MANAGEMENT
        // ========================================
        const savedTheme = localStorage.getItem('json-theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);
        updateThemeButton(savedTheme);
        
        window.toggleTheme = function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('json-theme', newTheme);
            updateThemeButton(newTheme);
        };
        
        function updateThemeButton(theme) {
            const icon = document.getElementById('theme-icon');
            const text = document.getElementById('theme-text');
            if (theme === 'dark') {
                icon.textContent = 'dark_mode';
                text.textContent = 'Dark';
            } else {
                icon.textContent = 'light_mode';
                text.textContent = 'Light';
            }
        }
        
        // ========================================
        // JSON FORMATTER FUNCTIONALITY
        // ========================================
        const input = document.getElementById('json-input');
        const output = document.getElementById('output');
        const inputError = document.getElementById('input-error');
        const toast = document.getElementById('toast');
        
        // Load saved JSON from localStorage
        const savedJSON = localStorage.getItem('json-input');
        if (savedJSON) {
            input.value = savedJSON;
            updateStats();
        }
        
        // Auto-save input
        input.addEventListener('input', function() {
            localStorage.setItem('json-input', input.value);
            updateStats();
            hideMessages();
        });
        
        // Auto-completion for brackets, quotes, and tab handling
        input.addEventListener('keydown', function(e) {
            const cursorPos = this.selectionStart;
            const cursorEnd = this.selectionEnd;
            const textBefore = this.value.substring(0, cursorPos);
            const textAfter = this.value.substring(cursorEnd);
            
            // Handle Tab key - insert 4 spaces
            if (e.key === 'Tab') {
                e.preventDefault();
                const spaces = '    '; // 4 spaces
                this.value = textBefore + spaces + textAfter;
                this.selectionStart = this.selectionEnd = cursorPos + 4;
                this.dispatchEvent(new Event('input'));
                return;
            }
            
            // Handle Enter key between brackets - auto-format
            if (e.key === 'Enter') {
                const charBefore = textBefore.charAt(textBefore.length - 1);
                const charAfter = textAfter.charAt(0);
                
                // Check if cursor is between matching brackets
                const bracketPairs = {
                    '{': '}',
                    '[': ']',
                    '(': ')'
                };
                
                if (bracketPairs[charBefore] === charAfter) {
                    e.preventDefault();
                    
                    // Get current line's indentation
                    const lines = textBefore.split('\n');
                    const currentLine = lines[lines.length - 1];
                    const currentIndent = currentLine.match(/^\s*/)[0];
                    const indent = '    '; // 4 spaces for new level
                    
                    // Insert new lines with proper indentation
                    const newText = '\n' + currentIndent + indent + '\n' + currentIndent;
                    this.value = textBefore + newText + textAfter;
                    
                    // Position cursor on the middle line with indentation
                    const newCursorPos = cursorPos + 1 + currentIndent.length + indent.length;
                    this.selectionStart = this.selectionEnd = newCursorPos;
                    this.dispatchEvent(new Event('input'));
                    return;
                }
            }
            
            // Auto-closing brackets and quotes
            const pairs = {
                '{': '}',
                '[': ']',
                '(': ')',
                '"': '"',
                "'": "'",
                '`': '`'
            };
            
            const key = e.key;
            
            // Handle opening brackets
            if (pairs[key] && key !== '"' && key !== "'" && key !== '`') {
                e.preventDefault();
                const closing = pairs[key];
                this.value = textBefore + key + closing + textAfter;
                this.selectionStart = this.selectionEnd = cursorPos + 1;
                this.dispatchEvent(new Event('input'));
                return;
            }
            
            // Handle quotes - check if count is odd
            if (key === '"' || key === "'" || key === '`') {
                // Count occurrences in the entire text
                const allText = this.value;
                const count = (allText.match(new RegExp('\\' + key, 'g')) || []).length;
                
                // If count is odd (unpaired), add closing quote
                if (count % 2 === 1) {
                    e.preventDefault();
                    this.value = textBefore + key + textAfter;
                    this.selectionStart = this.selectionEnd = cursorPos + 1;
                    this.dispatchEvent(new Event('input'));
                    return;
                }
                
                // If count is even, add both opening and closing
                e.preventDefault();
                this.value = textBefore + key + key + textAfter;
                this.selectionStart = this.selectionEnd = cursorPos + 1;
                this.dispatchEvent(new Event('input'));
                return;
            }
            
            // Skip over closing bracket if it's the next character
            const nextChar = textAfter.charAt(0);
            if ((key === '}' || key === ']' || key === ')') && nextChar === key) {
                e.preventDefault();
                this.selectionStart = this.selectionEnd = cursorPos + 1;
                return;
            }
        });
        
        function updateStats() {
            const text = input.value;
            document.getElementById('char-count').textContent = text.length.toLocaleString();
            document.getElementById('line-count').textContent = (text.split('\n').length).toLocaleString();
        }
        
        function hideMessages() {
            inputError.classList.remove('active');
        }
        
        // ========================================
        // COLLAPSIBLE JSON VIEWER
        // ========================================
        let lineCounter;
        let currentOutputMode = 'formatted'; // 'formatted' or 'minified'
        let allNodes = []; // Track all collapsible nodes
        
        function createLine(indent, container) {
            const lineContainer = document.createElement("div");
            lineContainer.className = "json-line-container";

            const number = document.createElement("div");
            number.className = "line-number";
            number.textContent = lineCounter++;

            const content = document.createElement("div");
            content.className = "json-line";
            content.style.paddingLeft = (indent * 20) + "px";

            lineContainer.appendChild(number);
            lineContainer.appendChild(content);
            container.appendChild(lineContainer);

            return { line: lineContainer, content };
        }

        function buildNode(value, indent, container, isArrayItem, key) {
            if (typeof value !== "object" || value === null) {
                const { line, content } = createLine(indent, container);
                
                // Add key if it exists
                if (key !== undefined) {
                    const keySpan = document.createElement("span");
                    keySpan.className = "json-key";
                    keySpan.textContent = `"${key}": `;
                    content.appendChild(keySpan);
                }
                
                // Add value with syntax highlighting
                const valueSpan = document.createElement("span");
                valueSpan.className = getTypeClass(value);
                valueSpan.textContent = JSON.stringify(value);
                content.appendChild(valueSpan);
                
                // Add comma if needed
                if (!isArrayItem) {
                    const comma = document.createElement("span");
                    comma.className = "json-comma";
                    comma.textContent = ",";
                    content.appendChild(comma);
                }
                
                return { line, children: [], collapsed: false };
            }

            const isArray = Array.isArray(value);
            const entries = isArray ? value : Object.entries(value);
            const length = isArray ? entries.length : entries.length;

            const node = {
                collapsed: false,
                children: []
            };

            const { line, content } = createLine(indent, container);

            const toggle = document.createElement("span");
            toggle.className = "toggle";
            toggle.textContent = "▼ ";
            
            // Add key if it exists
            if (key !== undefined) {
                const keySpan = document.createElement("span");
                keySpan.className = "json-key";
                keySpan.textContent = `"${key}": `;
                content.appendChild(keySpan);
            }

            content.appendChild(toggle);

            const bracket = document.createElement("span");
            bracket.className = "json-bracket";
            bracket.textContent = isArray ? "[" : "{";
            content.appendChild(bracket);

            node.line = line;
            node.toggle = toggle;
            node.bracket = bracket;
            node.isArray = isArray;
            node.length = length;

            if (isArray) {
                entries.forEach((item, index) => {
                    const childNode = buildNode(item, indent + 1, container, index < entries.length - 1, undefined);
                    node.children.push(childNode);
                });
            } else {
                entries.forEach(([objKey, objValue], index) => {
                    const childNode = buildNode(objValue, indent + 1, container, index < entries.length - 1, objKey);
                    node.children.push(childNode);
                });
            }

            const closing = createLine(indent, container);
            const closeBracket = document.createElement("span");
            closeBracket.className = "json-bracket";
            closeBracket.textContent = isArray ? "]" : "}";
            closing.content.appendChild(closeBracket);
            
            if (!isArrayItem) {
                const comma = document.createElement("span");
                comma.className = "json-comma";
                comma.textContent = ",";
                closing.content.appendChild(comma);
            }
            
            node.children.push({ line: closing.line, children: [] });

            toggle.onclick = () => {
                node.collapsed = !node.collapsed;
                toggle.textContent = node.collapsed ? "▶ " : "▼ ";

                node.children.forEach(child => {
                    setVisibility(child, !node.collapsed);
                });

                bracket.textContent = node.collapsed
                    ? (isArray ? `[...${length}]` : `{...${length}}`)
                    : (isArray ? "[" : "{");
            };
            
            // Track this node for expand/collapse all functionality
            allNodes.push(node);

            return node;
        }

        function setVisibility(node, visible) {
            node.line.style.display = visible ? "flex" : "none";

            if (!visible) {
                node.children.forEach(child => setVisibility(child, false));
            } else {
                if (!node.collapsed) {
                    node.children.forEach(child => setVisibility(child, true));
                }
            }
        }

        function getTypeClass(value) {
            if (typeof value === "string") return "json-string";
            if (typeof value === "number") return "json-number";
            if (typeof value === "boolean") return "json-boolean";
            if (value === null) return "json-null";
            return "";
        }
        
        window.formatJSON = function() {
            hideMessages();
            const inputText = input.value.trim();
            
            if (!inputText) {
                showError('Please enter some JSON data');
                return;
            }
            
            try {
                const parsed = JSON.parse(inputText);
                
                // Clear output and rebuild with collapsible viewer
                output.innerHTML = "";
                output.className = "json-viewer";
                lineCounter = 1;
                currentOutputMode = 'formatted';
                allNodes = []; // Reset nodes tracking
                
                buildNode(parsed, 0, output, false, undefined);
                
                // Show expand button
                document.getElementById('expand-btn').style.display = 'flex';
                
                // Calculate stats based on formatted JSON
                const indent = parseInt(document.getElementById('indent-size').value) || 2;
                const formatted = JSON.stringify(parsed, null, indent);
                updateOutputStats(formatted, true);
                input.classList.remove('error');
                
            } catch (error) {
                showError('Invalid JSON: ' + error.message);
                input.classList.add('error');
                document.getElementById('validity').textContent = '✗ Invalid';
            }
        };
        
        window.minifyJSON = function() {
            hideMessages();
            const inputText = input.value.trim();
            
            if (!inputText) {
                showError('Please enter some JSON data');
                return;
            }
            
            try {
                const parsed = JSON.parse(inputText);
                const minified = JSON.stringify(parsed);
                
                // Display as plain text for minified
                output.textContent = minified;
                output.className = "";
                currentOutputMode = 'minified';
                allNodes = []; // Clear nodes
                
                // Hide expand button for minified view
                document.getElementById('expand-btn').style.display = 'none';
                
                updateOutputStats(minified, true);
                input.classList.remove('error');
                
            } catch (error) {
                showError('Invalid JSON: ' + error.message);
                input.classList.add('error');
                document.getElementById('validity').textContent = '✗ Invalid';
            }
        };
        
        // Expand all nodes
        window.expandAll = function() {
            allNodes.forEach(node => {
                if (node.collapsed) {
                    node.collapsed = false;
                    node.toggle.textContent = "▼ ";
                    node.bracket.textContent = node.isArray ? "[" : "{";
                    node.children.forEach(child => {
                        setVisibility(child, true);
                    });
                }
            });
            showToast('✓ All nodes expanded!');
        };
        
        // Collapse all nodes
        function updateOutputStats(text, valid) {
            const bytes = new Blob([text]).size;
            document.getElementById('output-size').textContent = formatBytes(bytes);
            document.getElementById('validity').textContent = valid ? '✓ Valid' : '✗ Invalid';
        }
        
        function formatBytes(bytes) {
            if (bytes === 0) return '0 bytes';
            const k = 1024;
            const sizes = ['bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }
        
        function showError(message) {
            inputError.textContent = '✗ ' + message;
            inputError.classList.add('active');
        }
        
        window.copyOutput = function() {
            const inputText = input.value.trim();
            
            if (!inputText) {
                showError('Nothing to copy! Format or minify JSON first.');
                return;
            }
            
            try {
                const parsed = JSON.parse(inputText);
                let text;
                
                if (currentOutputMode === 'formatted') {
                    const indent = parseInt(document.getElementById('indent-size').value) || 2;
                    text = JSON.stringify(parsed, null, indent);
                } else {
                    text = JSON.stringify(parsed);
                }
                
                navigator.clipboard.writeText(text).then(() => {
                    showToast('✓ Copied to clipboard!');
                }).catch(() => {
                    showToast('✗ Failed to copy', true);
                });
            } catch (error) {
                showError('Cannot copy invalid JSON');
            }
        };
        
        window.downloadJSON = function() {
            const inputText = input.value.trim();
            
            if (!inputText) {
                showError('Nothing to download! Format or minify JSON first.');
                return;
            }
            
            try {
                const parsed = JSON.parse(inputText);
                let text;
                
                if (currentOutputMode === 'formatted') {
                    const indent = parseInt(document.getElementById('indent-size').value) || 2;
                    text = JSON.stringify(parsed, null, indent);
                } else {
                    text = JSON.stringify(parsed);
                }
                
                const blob = new Blob([text], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'formatted-' + Date.now() + '.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showToast('✓ JSON downloaded!');
            } catch (error) {
                showError('Cannot download invalid JSON');
            }
        };
        
        window.clearInput = function() {
            if (input.value && !confirm('Clear all input?')) {
                return;
            }
            
            input.value = '';
            output.innerHTML = '';
            output.className = "";
            allNodes = [];
            localStorage.removeItem('json-input');
            hideMessages();
            updateStats();
            updateOutputStats('', false);
            input.classList.remove('error');
            
            // Hide expand button
            document.getElementById('expand-btn').style.display = 'none';
        };
        
        window.loadExample = function() {
            const example = {
                "name": "Tool Studio",
                "description": "A collection of useful online tools",
                "tools": [
                    {
                        "id": 1,
                        "name": "JSON Formatter",
                        "category": "Developer Tools",
                        "features": ["Format", "Minify", "Validate"]
                    },
                    {
                        "id": 2,
                        "name": "README Viewer",
                        "category": "Developer Tools",
                        "features": ["Live Preview", "Syntax Highlighting"]
                    }
                ],
                "active": true,
                "version": "1.0.0",
                "settings": {
                    "theme": "dark",
                    "autoSave": true,
                    "maxFileSize": 50
                }
            };
            
            input.value = JSON.stringify(example, null, 2);
            localStorage.setItem('json-input', input.value);
            updateStats();
            hideMessages();
        };
        
        function showToast(message, isError = false) {
            toast.textContent = message;
            toast.style.background = isError ? 'var(--danger)' : 'var(--success)';
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }
        
        // Initial stats
        updateStats();
        
    })();
    </script>
</body>
</html>

